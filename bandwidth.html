ipDiv.innerHTML = `<i class="fas fa-network-wired"></i> IP: ${device.ip}`;

    div.appendChild(header); 
    div.appendChild(ipDiv);
    blockedDevicesEl.appendChild(div);
  });
}

// Actions
function blockDevice(i){ 
  blockedDevices.push(connectedDevices[i]); 
  connectedDevices.splice(i,1); 
  renderDevices(); 
  renderBlocked(); 
}

function removeBlocked(i){ 
  connectedDevices.push(blockedDevices[i]); 
  blockedDevices.splice(i,1); 
  renderDevices(); 
  renderBlocked(); 
}

function renameDevice(i){ 
  const newName = prompt("Enter new device name:", connectedDevices[i].name); 
  if(newName){ 
    connectedDevices[i].name = newName; 
    renderDevices(); 
  } 
}

// Initial render and periodic refresh
renderDevices();
renderBlocked();

// Update usage & speed every 5s
setInterval(renderDevices, 5000);

// بستن منو با کلیک خارج از آن
document.addEventListener('click', (e) => {
  if (mainMenu.classList.contains('active') && 
      !e.target.closest('#mainMenu') && 
      !e.target.closest('#menuToggleBtn')) {
    mainMenu.classList.remove('active');
    document.body.style.overflow = '';
  }
});
</script>
</body>
</html>